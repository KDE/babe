DROP TABLE ALBUMS CASCADE CONSTRAINTS ;

DROP TABLE ARTISTS CASCADE CONSTRAINTS ;

DROP TABLE GENRES CASCADE CONSTRAINTS ;

DROP TABLE MOODS CASCADE CONSTRAINTS ;

DROP TABLE PLAYLISTS CASCADE CONSTRAINTS ;

DROP TABLE SOURCES CASCADE CONSTRAINTS ;

DROP TABLE SOURCES_TYPES CASCADE CONSTRAINTS ;

DROP TABLE TRACKS CASCADE CONSTRAINTS ;

DROP TABLE TRACKS_ALBUMS CASCADE CONSTRAINTS ;

DROP TABLE TRACKS_ARTISTS CASCADE CONSTRAINTS ;

DROP TABLE TRACKS_PLAYLISTS CASCADE CONSTRAINTS ;

CREATE TABLE ALBUMS
  (
    id      TEXT PRIMARY KEY,
    title   TEXT NOT NULL ,
    artwork TEXT NOT NULL ,
    wiki    TEXT 
  ) ;


CREATE TABLE ARTISTS
  (
    id      TEXT PRIMARY KEY ,
    title   TEXT NOT NULL ,
    artwork TEXT NOT NULL ,
    wiki    TEXT 
  ) ;


CREATE TABLE GENRES
  (
    id      TEXT PRIMARY KEY ,
    title   TEXT NOT NULL ,
    artwork TEXT 
  ) ;


CREATE TABLE MOODS
  (
    title TEXT PRIMARY KEY
  ) ;


CREATE TABLE PLAYLISTS
  (
    title       TEXT PRIMARY KEY ,
    MOODS_title TEXT NOT NULL,
    FOREIGN KEY(MOODS_title) REFERENCES MOODS(title)
  ) ;


CREATE TABLE SOURCES
  (
    url              TEXT PRIMARY KEY ,
    SOURCE_TYPES_id TEXT NOT NULL,
    FOREIGN KEY(SOURCE_TYPES_id) REFERENCES SOURCES_TYPES(id)
  ) ;


CREATE TABLE SOURCES_TYPES
  (
    id   TEXT PRIMARY KEY ,
    name TEXT NOT NULL
  ) ;


CREATE TABLE TRACKS
  (
    url         TEXT PRIMARY KEY ,
    sources_url TEXT NOT NULL ,
    title       TEXT NOT NULL ,
    duration    INTEGER NOT NULL ,
    played      INTEGER NOT NULL ,
    favorite    INTEGER NOT NULL ,
    stars       INTEGER NOT NULL ,
    releaseDate DATE ,
    addDate     DATE NOT NULL ,
    lyrics     TEXT ,
    GENRES_id  TEXT  NOT NULL ,
    MOODS_title TEXT NOT NULL,
    FOREIGN KEY(sources_url) REFERENCES SOURCES(url),
    FOREIGN KEY(GENRES_id) REFERENCES GENRES(id),
    FOREIGN KEY(MOODS_title) REFERENCES MOODS(title)
  ) ;


CREATE TABLE TRACKS_ALBUMS
  (
    ALBUMS_id  TEXT NOT NULL ,
    tracks_url TEXT NOT NULL ,
    FOREIGN KEY(ALBUMS_id) REFERENCES ALBUMS(id),
    FOREIGN KEY(tracks_url) REFERENCES TRACKS(url)

  ) ;


CREATE TABLE TRACKS_ARTISTS
  (
    ARTISTS_id TEXT NOT NULL ,
    tracks_url TEXT NOT NULL ,
    FOREIGN KEY(ARTISTS_id) REFERENCES ARTISTS(id),
    FOREIGN KEY(tracks_url) REFERENCES TRACKS(url)
  ) ;


CREATE TABLE TRACKS_PLAYLISTS
  (
    PLAYLISTS_title TEXT NOT NULL ,
    TRACKS_url      TEXT NOT NULL ,
    PRIMARY KEY (PLAYLISTS_title, TRACKS_url),
    FOREIGN KEY(PLAYLISTS_title) REFERENCES PLAYLISTS(title),
    FOREIGN KEY(TRACKS_url) REFERENCES TRACKS(url)
  ) ;
  
